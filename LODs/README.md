### Cohort analysis.

Cohort analysis is used for anawering the analytical questions regarding the group behaviour.

Helps the product creators to analyse and forsee the sucess or failure of that product.

Analysing the product and user success over their lifetimes.

Why and when user will stop using the application.

Target marketting.

*Current problem statement*
```
- Use the Super Store Dataset.
- Grouping of customers by the year they placed their first order.

- How do the cohorts contribute to the SUM of sales over time?
- How much revenue was generated by each customer cohort?
```

- Create a calculated field : First order date of customers

```
{FIXED CUSTOMER_NAME: MIN(DATE)}
```

- Year(Date) in Column and Sales in Rows.
- Select the chart type as bar.
- Put the fixed calculations in color.

- Next we will check the overall trend of the sales over time to understand wheather the behaviour really make sense.

- We will see the binning aggregates for each cohort.Number of orders placed by each customer cohort.

Number of orders for each customer
```
{FIXED CUSTOMER_NAME: COUNTD(ORDER_ID)}
```
We will keep the above calculation as a dimension.

- Put the above calculation in column shelf
- CNTD(Customer_name) in row shelf
- Put the prior fixed calculation in color.


### Cohort Analysis - User retention.

- This is a case of cohort analysis with many members.
- The dataset to bes used : Logs.csv
- Purpose is to understand : Lifetime of a digital service.

User retention analysis : New Subscribers vs Lapsed

- Here only one login per period to be considered as we are only concerned about retention overtime than any user activity.

- Create calculated field:
```
{FIXED USER_ID: MIN(SIGN_IN)}
```

- Put the above calculation in row shelf.
- Put MY(Date) in column.
- Create calculated field : User Cohort
```
{FIXED USER_ID: MIN(DATE)}
```
- Put the calculation in colour mark


### LOD Calculations used as a base for sort for other fields.

- Put period in columns
- Put MY(Date) in rows
- Put Sign In measure in text.
- Sort the period field by the User Cohort - LOD calculated field.

### The active customer with gap in period

We want to find number of months between first and second purchase.

1. Find the first order date by customer.
2. Find the second order date by customer.
    - Extract dates from order date those are later than the first order date.
    ```
    IF ORDER_DATE > FIRST_ORDER_DATE THEN ORDER_DATE END
    ```
    - Get the first date of the extract.


3. Get the difference between two above calculations using DATEDIFF function.
4. Put the gaps in column shelf.
5. Put the periods in row shelf.
6. Put `COUNTD(CUSTOMER)` in color.
7. Change the shape to square.






